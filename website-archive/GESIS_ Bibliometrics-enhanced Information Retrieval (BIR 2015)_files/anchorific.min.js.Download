"function"!=typeof Object.create&&(Object.create=function(t){function n(){}return n.prototype=t,new n}),function(t,n,a,e){"use strict";var i={init:function(n,a){var e=this;e.elem=a,e.$elem=t(a),e.opt=t.extend({},this.opt,n),e.headers=e.$elem.find(e.opt.headers),e.previous=0,0!==e.headers.length&&(e.first=parseInt(e.headers.prop("nodeName").substring(1),null)),e.build()},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append",spyOffset:!0},build:function(){var n,a=this,e=function(){};a.opt.navigation&&(t(a.opt.navigation).append("<ul />"),a.previous=t(a.opt.navigation).find("ul").last(),e=function(t){return a.navigations(t)});for(var i=0;i<a.headers.length;i++)e(n=a.headers.eq(i)),a.anchor(n);a.opt.spy&&a.spy(),a.opt.top&&a.back()},navigations:function(n){var a,e,i,o=this,r=o.name(n);void 0!==n.attr("id")&&(r=n.attr("id")),a=t("<a />").attr("href","#"+r).text(n.text()),e=t("<li />").append(a),i=parseInt(n.prop("nodeName").substring(1),null),e.attr("data-tag",i),o.subheadings(i,e),o.first=i},subheadings:function(n,a){var e=this,i=(t(e.opt.navigation).find("ul"),t(e.opt.navigation).find("li"));n===e.first?e.previous.append(a):n>e.first?(i.last().append("<ul />"),t(e.opt.navigation).find("ul").last().append(a),e.previous=a.parent()):(t("li[data-tag="+n+"]").last().parent().append(a),e.previous=a.parent())},name:function(t){return t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase()},anchor:function(n){var a,e,i=this,o=i.name(n),r=i.opt.anchorText,s=i.opt.anchorClass;void 0===n.attr("id")&&n.attr("id",o),e=n.attr("id"),a=t("<a />").attr("href","#"+e).html(r).addClass(s),"append"===i.opt.position?n.append(a):n.prepend(a)},back:function(){var n=this,a=t("body, html");t(n.opt.top).on("click",function(t){t.preventDefault(),a.animate({scrollTop:0},n.opt.speed)})},top:function(n){var a=this.opt.top;!1!==a&&(t(n).scrollTop()>200?t(a).fadeIn():t(a).fadeOut())},spy:function(){var a,e,i,o=this;t(n).scroll(function(r){o.top(this),a=o.headers.map(function(a){if(t(this).offset().top-t(n).scrollTop()<o.opt.spyOffset)return this}),(a=t(a).eq(a.length-1))&&a.length&&(e=t('li:has(a[href="#'+a.attr("id")+'"])'),void 0!==i&&i.removeClass("active"),e.addClass("active"),i=e)})}};t.fn.anchorific=function(n){return this.each(function(){if(!t.data(this,"anchorific")){var a=Object.create(i);a.init(n,this),t.data(this,"anchorific",a)}})}}(jQuery,window,document);